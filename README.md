# 哈基米的南北路 - Java控制台跑酷游戏

> 一款基于Java控制台的字符画跑酷游戏，体验猫咪在街道上奔跑躲避追逐的刺激冒险！

## 🎮 游戏简介

《哈基米的南北路》是一款创新的控制台字符画跑酷游戏。玩家将扮演一只调皮的小猫咪"哈基米"，在南北方向的街道上奔跑，躲避后方追逐的人类，收集路上的小鱼干，挑战自己的极限距离！

### 游戏特色

- 🐱 **猫咪主角** - 操控可爱的字符画猫咪进行冒险
- 🏃 **竖版跑酷** - 类似神庙逃亡的竖版自动奔跑玩法
- 🎯 **三车道设计** - 左右切换车道躲避各种障碍物
- 👥 **追逐系统** - 人类追逐者带来紧张刺激的压迫感
- 🎒 **道具系统** - 收集小鱼干加分，获取"哈根"能力护身
- 💾 **存档功能** - 支持随时保存和读取游戏进度
- 🏆 **成就系统** - 达成特定条件解锁各种趣味成就
- 🎨 **多重显示** - 支持图形窗口(Swing)和纯控制台(Console)双模式
- ⚡ **流畅体验** - 优化的渲染引擎确保流畅游戏体验

## 🚀 快速开始

### 运行要求

- **Java版本**: JDK 17 或更高版本
- **操作系统**: Windows 10+/macOS 10.14+/Linux Ubuntu 18.04+
- **终端**: 支持ANSI转义序列的终端程序

### 安装步骤

1. **克隆项目**
   ```bash
   git clone https://github.com/teformel/Hakimi.git
   cd Hakimi
   ```

2. **编译项目**
   ```bash
   mvn compile
   ```

3. **运行游戏**
   ```bash
   mvn exec:java -Dexec.mainClass="com.hakimi.road.Main"
   ```

### 一键运行（推荐）

```bash
# 使用Maven直接运行
mvn compile exec:java
```

## 🎯 游戏玩法

### 基本控制

#### 菜单界面
| 按键 | 功能 |
|------|------|
| **Enter** | 开始游戏 |
| **S** | 进入设置 (Settings) |
| **L** | 进入读档 (Load) |
| **ESC** | 退出游戏 |

#### 游戏界面
| 按键 | 功能 |
|------|------|
| **← →** | 左右切换车道 |
| **↑ 或 空格** | 跳跃（躲避低障碍） |
| **↓** | 滑铲（躲避高障碍） |
| **A** / **D** | 急转弯转向 (Turn Left/Right) |
| **S** | 保存游戏 (Save) |
| **P** | 暂停游戏 |
| **ESC** | 返回主菜单 |

### 物品与能力

- 🐟 **小鱼干**: 收集后获得额外分数奖励。
- 🛡️ **哈根 (Hagen)**: 特殊能力道具。获得后，当即将撞上障碍物或被追上时，会自动消耗该能力，发出"哈!!!!!!"的威慑声吓退敌人并清除障碍，免受一次伤害。

### 游戏设置

在主菜单按 **S** 进入设置界面，可以调整：
- **游戏速度**: 调整基础奔跑速度。
- **生成频率**: 调整障碍物出现的频率。
- **显示模式**: 切换 Swing窗口 / Console终端 / 自动检测。

## 🏗️ 项目结构

```
Hakimi/
├── src/main/java/com/hakimi/road/
│   ├── engine/           # 游戏引擎 (GameEngine, RenderEngine)
│   ├── entity/           # 游戏实体 (Player, Obstacle, Item, Chaser)
│   ├── system/           # 功能系统 (Score, Collision, Achievement)
│   ├── level/            # 关卡管理
│   ├── ui/               # 用户界面
│   └── util/             # 工具类 (SaveManager, SettingsManager)
├── resources/            # 资源文件
├── pom.xml              # Maven配置
└── README.md            # 项目文档
```

## 🔧 开发指南

### 环境配置

1. **安装JDK 17**
   - 下载并安装Oracle JDK或OpenJDK 17

2. **安装Maven**
   - 确保Maven 3.6+已安装并配置

### 构建命令

```bash
# 编译项目
mvn compile

# 运行测试
mvn test

# 打包可执行JAR
mvn package
```

### 提交规范配置

1. **全局安装 commitizen**
   ```bash
   npm install -g commitizen
   ```

2. **项目初始化**
   进入项目文件夹，运行如下命令：
   ```bash
   commitizen init cz-conventional-changelog --save --save-exact
   ```

## 📈 开发进度

### 已实现功能
- ✅ 基础游戏框架和渲染系统
- ✅ 角色移动、障碍物生成与碰撞检测
- ✅ 道具系统（小鱼干、哈根能力）
- ✅ 存档与读档系统
- ✅ 游戏设置与显示模式切换
- ✅ 成就系统
- ✅ 追逐者AI与动画
- ✅ 多主题关卡（森林、沙漠、夜之城）
- ✅ 多样化障碍物与交互元素

### 计划功能
- 🔄 在线排行榜功能
- 🔄 更多特殊能力与角色动作
- 🔄 游戏音效与背景音乐

## ❓ 常见问题

**Q: 如何切换回纯控制台模式？**
A: 在主菜单按 'S' 进入设置，找到 Display Mode 选项，使用左右方向键切换至 "Console"，然后重启游戏即可。

**Q: 游戏存档保存在哪里？**
A: 存档文件通常保存在项目根目录下的 `saves/` 文件夹中。

**Q: 游戏运行时出现字符显示错乱？**
A: 请确保使用支持ANSI转义序列的终端，如Windows Terminal、iTerm2等。如果是在Windows CMD中运行，建议切换到 Swing 模式或使用 Windows Terminal。

## 📄 许可证

本项目采用MIT许可证 - 查看 LICENSE 文件了解详情。

## 🙏 致谢

- Lanterna项目组提供优秀的控制台GUI库
- Java社区持续的技术支持

---

**享受游戏！如果有任何问题或建议，欢迎在Issues中提出。**

🐾 *让哈基米跑得更远！* 🐾